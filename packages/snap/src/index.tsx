/* eslint-disable @typescript-eslint/no-unused-vars */

import type {
  OnRpcRequestHandler,
  OnTransactionHandler,
  OnSignatureHandler,
  OnInstallHandler,
  OnUpdateHandler,
  OnTransactionResponse,
  OnSignatureResponse,
  OnHomePageHandler,
} from '@metamask/snaps-sdk';
import { Box, Text, Heading, Image, Copyable, Link, Banner } from '@metamask/snaps-sdk/jsx';

import { deflate, DEFAULT_LEVEL } from './deflate.js';
import { qrcodegen } from './qrcodegen.js';

declare global {
  interface Window {
    ethereum: any;
  }
}

// Returns a string of SVG code for an image depicting the given QR Code, with the given number
// of border modules. The string always uses Unix newlines (\n), regardless of the platform.
/**
 *
 * @param qr
 * @param border
 * @param lightColor
 * @param darkColor
 */
function toSvgString(
  qr: qrcodegen.QrCode,
  border: number,
  lightColor: string,
  darkColor: string,
): string {
  if (border < 0) {
    throw new RangeError('Border must be non-negative');
  }
  const parts: string[] = [];
  for (let y = 0; y < qr.size; y++) {
    for (let x = 0; x < qr.size; x++) {
      if (qr.getModule(x, y)) {
        parts.push(`M${x + border},${y + border}h1v1h-1z`);
      }
    }
  }
  return `<?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 ${
    qr.size + border * 2
  } ${qr.size + border * 2}" stroke="none">
    <rect width="100%" height="100%" fill="${lightColor}"/>
    <path d="${parts.join(' ')}" fill="${darkColor}"/>
  </svg>
  `;
}

/**
 *
 * @param data
 */
function runLengthEncoding(data: string): string {
  let result = '';
  let count = 1;

  for (let i = 0; i < data.length; i++) {
    let j = i + 1;
    while (data[i] === data[j]) {
      count++;
      if (count === 9) {
        j++;
        break;
      } else {
        j++;
      }
    }
    result = result.concat(`${count}${data[i]}`);
    count = 1;
    i = j - 1;
  }
  return result;
}

/**
 * @description Compress data
 * @param data
 */
function compressData(data: string): string {
  // Convert string to byte array
  const byteArray = new TextEncoder().encode(data);

  // Convert Uint8Array to regular array for deflate
  const array = Array.from(byteArray);

  // Compress using deflate
  const compressed = deflate(array, DEFAULT_LEVEL);

  // Convert compressed array to Uint8Array for base64 encoding
  const compressedArray = new Uint8Array(compressed);

  // Convert to base64
  return btoa(String.fromCharCode.apply(null, compressedArray));
}

/**
 *
 * @param data
 */
async function generateQRCodeRaw(data: string): Promise<string> {
  // Generate QR code
  const QRC = qrcodegen.QrCode;
  const qrCode = QRC.encodeText(data, qrcodegen.QrCode.Ecc.LOW);

  // Convert to SVG
  const svg = toSvgString(qrCode, 1, 'white', '#1F2A35');

  return svg;
}

async function generateQRCode(
  data: string,
  mode: number,
): Promise<string> {
    // Compress data before generating QR code
    const compressedData = compressData(data);
    console.log(
        '[generateQRCode] Compressed data length:',
        compressedData.length,
    );

    console.log(
        '[generateQRCode] Starting QR code generation with data:',
        compressedData,
    );
    console.log('[generateQRCode] Mode:', mode);

    try {
        return generateQRCodeRemote(compressedData, mode);
    } catch (error) {
        const errorMessage =
            error instanceof Error ? error.message : 'Unknown error';
        console.log('[generateQRCode] Error occurred:', errorMessage);
        console.log(
            '[generateQRCode] Stack trace:',
            error instanceof Error ? error.stack : 'No stack trace',
        );

        // Fallback to basic QR code
        console.log('[generateQRCode] Falling back to raw QR code generation');
        return generateQRCodeRaw(compressedData);
    }
}

/**
 *
 * @param data
 * @param mode
 */
async function generateQRCodeRemote(data: string, mode: number): Promise<string> {
    // Try to get QR code from the endpoint
    console.log('[generateQRCode] Making request to endpoint...');
    const response = await fetch('http://localhost:3002/unblind/qr', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        data,
        type: mode, // Add type parameter
      }),
    });

    console.log('[generateQRCode] Response status:', response.status);
    console.log('[generateQRCode] Response ok:', response.ok);

    if (!response.ok) {
      console.log(
        '[generateQRCode] Request failed, falling back to raw QR code',
      );
      throw new Error('Failed to get QR code from endpoint');
    }

    // Get the SVG text directly from the response
    const svgText = await response.text();
    console.log('[generateQRCode] SVG response length:', svgText.length);
    console.log(
      '[generateQRCode] SVG response preview:',
      `${svgText.substring(0, 100)}...`,
    );

    return svgText;
}

const unblindLogoDark = `<svg width="124" height="81" viewBox="0 0 124 81" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M124 51H0V80H124V51Z" fill="#1F2A35"/>
  <mask id="mask0_959_905" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="6" y="0" width="113" height="52">
  <rect x="6" width="113" height="51.5189" fill="white"/>
  </mask>
  <g mask="url(#mask0_959_905)">
  <g style="mix-blend-mode:luminosity">
  <path d="M77.0792 41.8835C77.0792 49.9473 70.5369 56.4839 62.4663 56.4839C54.3957 56.4839 47.8535 49.9473 47.8535 41.8835C47.8535 33.8198 54.3957 27.2832 62.4663 27.2832C70.5369 27.2832 77.0792 33.8198 77.0792 41.8835Z" fill="white"/>
  <path d="M52.6241 50.784C50.6493 48.8897 49.4436 46.2162 49.332 43.4824C49.6917 44.4114 50.8028 44.8873 51.7924 44.7694C52.7826 44.6515 53.6549 44.0613 54.3864 43.3844C56.1785 41.7259 57.3671 39.4296 57.6841 37.0097C57.8597 35.6723 57.7431 34.2091 56.9107 33.1465C56.0783 32.084 54.3643 31.655 53.0904 32.4739C56.3676 29.272 61.4525 28.056 65.8251 29.429C70.1985 30.8012 73.6732 34.7041 74.5291 39.203C74.0436 38.1056 72.656 37.6035 71.4844 37.8691C70.3129 38.1348 69.3625 39.0141 68.7063 40.0191C67.635 41.6591 67.2327 43.8184 68.0153 45.6139C68.7973 47.4088 71.9451 49.0687 73.8225 48.509C72.8778 52.0582 68.1845 54.7246 64.5171 54.9689C60.8497 55.2133 56.3143 54.3226 52.6241 50.784Z" fill="#293885"/>
  <path d="M59.8452 70.5437C56.1224 70.2483 52.858 68.9399 49.7721 67.0691C51.5301 67.9072 53.3855 68.5386 55.3169 68.908C50.569 67.3106 47.0459 64.8218 43.6656 61.4849C39.662 57.8228 37.3623 53.3822 35.8175 48.2476C34.9218 45.1487 34.164 42.0242 33.9621 38.8528C33.9493 38.7264 33.95 38.6177 33.9387 38.5098C33.9381 38.5283 33.9365 38.5467 33.936 38.5659C33.7618 41.1498 34.0434 43.7395 34.4848 46.2837C34.8729 48.6113 35.5078 50.9061 36.4063 53.0895C36.3402 52.9453 36.2705 52.804 36.2066 52.6584C34.3846 48.7753 32.8135 44.6494 32.1695 40.1668C32.2576 43.6166 32.982 47.043 34.1386 50.2889C34.9 52.3913 35.731 54.4852 36.8506 56.4243C34.6042 53.1194 32.8818 49.4607 31.8809 45.4484C32.7048 52.9986 36.9452 59.8449 42.6293 64.7586C45.7622 67.6892 49.7253 69.4776 53.8328 70.5856C54.8302 70.8726 56.0287 71.1958 56.9315 71.4032C55.3896 70.8321 53.5534 70.1019 52.2269 69.5444C49.3038 68.354 46.5534 66.6699 44.1279 64.5682C48.6142 68.0486 54.0217 70.8598 59.8452 70.5437Z" fill="#364FA9"/>
  <path d="M83.6177 19.34C84.677 20.4417 85.7781 21.8878 86.7918 23.4092C85.3175 21.4687 83.6071 19.7151 81.6884 18.2263C80.8993 17.624 79.7968 16.8299 79.1257 16.4102C80.2439 17.3598 81.3301 18.3478 82.3808 19.372C84.0606 21.1839 85.5734 23.1897 86.8871 25.3326C85.0111 22.7351 82.6389 20.5049 79.8281 18.8634C82.169 20.7066 84.1566 22.9162 85.7902 25.3617C84.0194 23.1165 81.7396 21.2919 79.4065 19.654C78.5712 19.0609 77.6229 18.4259 76.8125 17.9081C77.9158 18.8265 78.9999 19.7669 80.0761 20.7165C81.7261 22.169 83.6654 24.172 84.7331 25.6139C86.3141 27.8548 87.5496 30.2903 88.3607 32.5035C89.8671 36.6671 90.681 40.7817 90.5389 45.162C90.9391 42.6064 90.9675 39.9741 90.6327 37.3895C91.0741 39.7618 91.2604 42.1746 91.1822 44.5618C91.141 45.6762 90.9121 47.1394 90.7749 48.018C91.0358 47.1614 91.2554 46.292 91.431 45.4141C91.962 42.5695 91.9834 39.6332 91.5398 36.7658C92.2407 39.9159 92.5172 43.154 92.2734 46.3751C93.1009 42.4523 92.9708 38.3817 92.0388 34.488C92.5691 36.1465 92.9886 37.817 93.1805 39.364C93.3163 40.3506 93.4272 41.558 93.5125 42.4338C93.5487 41.8116 93.5722 41.1894 93.5821 40.5672C93.7321 32.4779 89.914 24.4156 83.6177 19.34Z" fill="#364FA9"/>
  <path d="M47.2541 18.0306C45.135 19.1869 43.1409 20.7076 41.3915 22.489C43.2611 20.3092 45.3994 18.3431 47.7375 16.7685C40.8619 19.9249 35.8544 26.6178 34.5166 34.0323C34.4199 34.5416 34.3047 35.254 34.2656 35.6525C34.609 34.4386 35.0071 33.2397 35.4898 32.0741C35.5943 31.817 35.708 31.5606 35.8203 31.3035C35.0476 33.533 34.6609 35.8769 34.7711 38.2485C35.418 30.7566 41.3481 22.7752 47.1823 18.5378C48.0489 17.9362 49.172 17.2159 49.932 16.7266C49.0249 17.13 48.1349 17.5718 47.2541 18.0306Z" fill="#364FA9"/>
  <path d="M46.7398 15.4365C44.347 16.9593 42.0729 18.7606 40.0924 20.8268C41.1239 19.5383 42.2329 18.2854 43.4257 17.0687C36.8465 21.9106 32.7334 28.6121 31.9884 36.7987C31.9358 37.3328 31.8675 38.1254 31.8633 38.5125C32.0168 37.7518 32.1818 36.9926 32.3716 36.2397C32.9118 34.0428 33.6334 31.9454 34.5191 29.9346C33.5943 32.7018 33.1315 35.6317 33.2687 38.5246C33.632 34.3276 35.0821 30.3742 36.9944 26.8463C39.3531 22.7537 42.572 19.4346 46.3268 16.1951C47.0604 15.6049 48.5874 14.5948 49.417 14.0898C48.5028 14.4933 47.6078 14.9407 46.7398 15.4365Z" fill="#364FA9"/>
  <path d="M69.7764 14.5321C71.9296 14.9512 74.0473 15.5911 76.1373 16.6167C69.3925 12.0966 59.431 11.3714 52.1153 14.9107C51.3831 15.2495 50.5428 15.6984 49.918 16.0691C50.8464 15.6905 51.7869 15.3411 52.7451 15.0456C54.142 14.5953 55.4984 14.2835 56.8576 14.0796C54.9183 14.5832 53.0487 15.3553 51.322 16.4328C58.0753 13.6989 65.209 13.8744 72.0661 15.8418C73.008 16.1075 74.2286 16.5741 74.9644 16.8852C74.3303 16.4875 73.672 16.1288 72.9945 15.8099C71.9588 15.3049 70.8789 14.8844 69.7764 14.5321Z" fill="#364FA9"/>
  <path d="M69.7174 12.5438C72.5936 13.3109 75.2829 14.3891 77.8726 15.6214C74.5691 13.4523 70.9302 11.6148 67.0203 10.8775C62.0079 9.99964 56.6905 10.6488 52.0208 12.6646C51.2978 12.9856 50.5365 13.3678 49.8789 13.7435C51.2104 13.2143 52.5753 12.7598 53.9729 12.4394C54.7762 12.259 55.5965 12.117 56.4226 11.9934C54.2266 12.5964 52.0606 13.5709 49.9528 14.9659C52.1829 13.7939 54.747 13.1944 57.2408 12.6838C62.7231 11.7192 68.6454 12.7363 74.2002 14.8309C75.0213 15.1328 76.0776 15.5994 76.7146 15.858C76.1466 15.5114 75.5708 15.1761 74.9864 14.8572C73.2547 13.9097 71.4939 13.1326 69.7174 12.5438Z" fill="#364FA9"/>
  <path d="M50.7993 28.5182C50.9358 28.3669 51.0957 28.21 51.2216 28.0771C51.1953 28.0963 51.1689 28.1148 51.1427 28.134C49.6932 29.183 48.3496 30.4026 47.3288 31.8814C46.158 33.4759 45.3135 35.2168 44.7831 37.0166C45.0895 35.28 45.6078 33.5967 46.3357 32.0035C46.7722 30.9836 47.4056 29.823 47.9103 28.9657C47.4205 29.5183 46.9584 30.0965 46.5248 30.6945C44.8436 32.9198 43.7907 35.5535 43.3607 38.2838C43.3962 37.7986 43.4431 37.3256 43.5107 36.8788C43.7872 35.2019 44.2237 33.5157 44.712 31.9098C44.4604 32.3821 44.2244 32.8623 44.0012 33.3481C42.5645 36.3227 41.8344 39.6525 42.2432 42.9517C42.2908 43.3146 42.3562 43.6783 42.4237 44.0419C41.8621 41.6256 41.6389 39.1112 41.796 36.5393C41.8692 35.3283 42.0782 33.9959 42.2716 32.9496C42.0008 33.6329 41.7626 34.3304 41.5636 35.0385C41.0688 36.7553 40.8193 38.4713 40.7788 40.161C40.7375 39.8073 40.7006 39.455 40.6714 39.1055C40.5811 38.0124 40.7112 36.4328 40.8065 35.6067C40.5712 36.2865 40.3977 36.9861 40.2691 37.6935C39.8916 40.1092 40.0046 42.6143 40.493 45.0292C40.1212 43.6591 39.8439 42.2627 39.6079 40.8642C39.5148 40.3712 39.3883 38.6922 39.4281 37.7454C39.3357 38.2113 39.2568 38.6794 39.1942 39.1503C38.9063 42.0794 39.2475 45.0711 40.1496 47.8788C39.4558 45.9171 38.902 43.7841 38.4506 41.6803C38.4598 44.5839 38.8039 47.111 39.5582 49.3796C39.2369 48.6019 38.9781 47.849 38.8338 47.182C38.6262 46.4313 38.4193 45.4838 38.2715 44.8239C38.2786 45.5264 38.322 46.2267 38.3824 46.9256C38.9255 53.9587 44.063 59.6232 49.9711 62.997C47.5513 60.8718 45.3611 58.4945 43.3784 55.9596C43.1375 55.6954 42.8062 55.25 42.433 54.696C43.6777 56.2735 45.2431 57.7445 47.1774 59.1721C47.5598 59.4598 48.0795 59.8512 48.3972 60.0578C47.8072 59.4442 47.22 58.8269 46.6499 58.1948C45.0149 56.3715 43.6415 54.7209 42.4259 52.7207C43.9798 55.0256 46.0563 56.927 48.1996 58.6806C46.5639 56.7615 44.8165 54.5035 43.505 52.2868C44.7049 54.0383 46.1708 55.6137 47.8015 56.966C46.4118 55.3281 45.2324 53.5177 44.2514 51.6156C45.6547 53.6143 47.4504 55.3949 49.6128 56.8524C47.7162 54.9446 46.1445 52.8294 44.9104 50.5636C45.4784 51.4572 46.1274 52.296 46.8831 53.0389C45.8559 51.4863 45.0668 49.6843 44.4895 47.8028C45.1165 49.2837 45.9504 50.6816 47.0217 51.9231C46.1502 50.3399 45.5338 48.7517 45.1172 47.1288C46.0961 49.7369 47.7909 52.1142 50.1929 53.963C48.6709 52.2463 47.5463 50.3825 46.7885 48.4314C47.7233 50.3349 49.0299 52.0552 50.7168 53.3351C48.5145 50.8201 47.397 47.9477 46.7658 44.6592C46.3144 41.9992 46.8234 36.8703 48.0255 34.4227C48.575 33.1357 49.4109 31.6633 50.0948 30.6206C49.4628 31.2641 48.8863 31.9609 48.3532 32.6875C47.5314 33.7813 46.8689 34.9902 46.3712 36.2659C46.4892 35.8433 46.6193 35.4214 46.7629 35.0016C47.547 32.7983 48.9659 30.4083 50.7993 28.5182Z" fill="#297AC8"/>
  <path d="M72.0045 28.2664C70.3367 26.8679 68.3811 25.8089 66.279 25.2968C68.2389 25.578 70.159 26.142 71.7692 27.0831C72.7964 27.6236 73.948 28.5093 74.7492 29.1152C74.3219 28.6251 73.8783 28.1492 73.4084 27.6996C71.2794 25.5752 68.5588 24.3827 65.6862 23.9792C67.457 24.0659 69.1339 24.3095 70.9111 24.8635C71.9654 25.1789 73.2428 25.6441 74.1314 26.0106C73.3857 25.5134 72.6016 25.0766 71.8019 24.6717C69.9088 23.6908 67.8302 23.0637 65.7039 22.786C67.3837 22.8286 69.0067 23.0069 70.4924 23.3357C71.349 23.5069 72.4217 23.9295 73.0857 24.2015C72.4992 23.8066 71.8822 23.455 71.2417 23.1539C67.8117 21.6794 63.8706 21.2248 60.1015 21.7781C62.928 21.1594 65.4793 20.8377 68.4948 21.087C64.4478 19.9136 60.0574 20.2581 56.063 21.4819C55.505 21.685 54.9626 21.9287 54.4287 22.1901C57.0945 20.8306 59.4297 19.9626 62.7502 19.2772C56.3573 19.1899 49.7888 22.2263 46.2671 27.6549C45.9863 28.1002 45.65 28.6841 45.4453 29.0776C46.0112 28.4007 46.5742 27.7195 47.2076 27.1044C49.117 25.2243 51.1004 23.9466 53.5628 22.6389C53.5742 22.6332 53.5849 22.6283 53.5963 22.6219C51.5468 23.764 49.712 25.3074 48.2121 27.0973C47.9519 27.4219 47.5595 27.9248 47.4031 28.1613C47.9277 27.6691 48.7474 26.9332 49.1796 26.6044C51.2148 25.0681 53.184 23.9167 55.3337 23.0857C52.6082 24.2129 50.1649 25.9495 48.345 28.3282C50.3213 26.5128 52.8754 25.1618 55.6536 24.2434C53.7477 25.0809 51.9677 26.2081 50.5103 27.6655C53.1825 25.9239 56.2464 24.8443 59.2819 24.3194C57.0007 24.8692 54.8268 25.86 52.9849 27.2245C54.5311 26.4197 56.2486 25.9438 57.9945 25.615C55.8043 26.2542 53.7591 27.3495 52.1454 28.9462C55.5391 26.7514 59.2606 26.1846 63.1782 26.1917C65.571 26.1186 68.0527 26.6406 69.8072 27.5235C71.0334 28.0193 72.4282 28.8851 73.3402 29.5868C72.9229 29.1195 72.48 28.6748 72.0045 28.2664Z" fill="#297AC8"/>
  <path d="M50.703 21.5506C50.3924 21.7374 50.091 21.9363 49.7945 22.1423C51.2099 21.0698 53.1165 19.6478 54.6619 18.7472C49.4967 20.5634 44.753 24.0515 42.4462 29.125C42.3851 29.2457 42.3218 29.3707 42.2656 29.4865C42.2727 29.4765 42.2806 29.4666 42.2884 29.4574C42.6879 28.9424 43.0938 28.4324 43.5033 27.9253C44.9933 26.0118 47.2674 24.0359 48.6948 22.9754C46.9304 24.4244 45.4554 26.2121 44.3144 28.1973C44.0819 28.5788 43.8083 29.0561 43.6305 29.3998C44.0229 28.9247 44.4224 28.4566 44.8326 27.997C48.5683 23.4847 53.7961 20.8673 59.2571 18.5703C56.2842 19.0917 53.3695 20.14 50.703 21.5506Z" fill="#297AC8"/>
  <path d="M43.8145 26.4002C45.6251 24.2247 47.7414 22.3055 49.8882 20.4688C47.3113 21.7082 45.0336 23.8731 43.8145 26.4002Z" fill="#297AC8"/>
  <path d="M84.2732 36.1752C84.6287 37.0232 84.9834 38.0219 85.2663 38.8188C85.2237 38.4935 85.1689 38.171 85.1128 37.8478C84.0337 30.4788 78.9935 24.6588 72.0938 22.0166C74.9302 23.8555 77.5419 26.1433 79.7193 28.7436C78.9935 27.9822 78.2045 27.2705 77.3372 26.6327C76.8623 26.2548 76.2183 25.7526 75.8152 25.4756C76.6946 26.4189 77.5647 27.3728 78.3978 28.3572C79.2772 29.4091 80.0726 30.5718 80.7743 31.8141C79.2445 29.6265 77.1915 27.7918 74.8669 26.5119C77.9038 29.0043 80.121 32.2403 81.2577 35.6915C80.9321 34.8569 80.5589 34.0443 80.1409 33.2623C79.811 32.6437 79.3945 32.0243 78.9587 31.5044C79.472 32.4057 79.7997 33.3121 80.1224 34.3093C80.4594 35.4287 80.7267 36.5544 80.9264 37.6795C80.5717 36.4436 80.052 35.2561 79.4556 34.1189C78.9196 33.1522 78.3765 32.133 77.5227 31.4085C78.3075 32.4342 78.6054 33.4925 79.0362 34.6779C79.2821 35.4045 79.4805 36.0764 79.6454 36.7292C78.7085 34.0159 77.0948 31.5577 74.7062 29.9155C76.1258 31.3986 77.1346 33.0649 77.8348 34.8434C76.89 33.0954 75.6432 31.5065 74.1468 30.2273C75.2422 31.4703 76.4315 33.7474 76.819 34.7688C77.9777 37.4352 78.4419 40.0255 78.2102 43.0371C78.0758 46.6126 76.964 50.4189 74.542 53.2664C74.2228 53.6883 73.6271 54.248 73.3776 54.5037C74.7539 53.6372 75.9005 52.4454 76.878 51.1555C77.4609 50.3145 77.9521 49.4132 78.3523 48.4721C77.8035 50.365 76.9739 52.2209 75.7434 53.7622C75.6005 53.9866 74.9671 54.5961 75.0858 54.53C76.2936 53.6351 77.3514 52.5178 78.1035 51.2123C78.7902 50.0184 79.3632 48.7505 79.7954 47.4408C79.5715 48.3769 79.2793 49.2854 78.8933 50.1512C78.4632 51.1917 77.6884 52.6386 77.2917 53.3907C77.768 52.8325 78.2137 52.25 78.6317 51.647C79.4073 50.6171 80.0215 49.4949 80.4892 48.3187C79.6923 51.044 78.5784 53.4362 76.9014 55.9023C79.0383 53.7927 80.7366 51.1633 81.7468 48.3173C81.7318 48.4146 81.7205 48.5147 81.7041 48.612C81.488 50.0042 81.016 51.6655 80.5866 52.8268C81.0807 51.9759 81.5292 51.0972 81.8733 50.1739C83.2048 46.5593 83.8929 42.557 83.4273 38.703C83.9512 41.0469 84.1438 43.4902 83.9306 45.9229C85.2137 41.6244 84.746 37.1603 82.8863 33.3142C83.4074 34.2446 83.8744 35.1985 84.2732 36.1752Z" fill="#297AC8"/>
  <path d="M84.4359 30.7162C84.7729 31.192 85.1454 31.7596 85.4482 32.1957C85.3579 31.9755 85.2662 31.7567 85.1724 31.5387C83.3326 26.8658 79.7591 22.9408 75.1071 20.9648C77.0392 22.3904 78.8299 24.0183 80.4351 25.7315C78.8079 24.0353 76.7776 22.6105 74.1801 21.3505C73.9206 21.2241 73.5645 21.0472 73.3633 20.9648C73.8118 21.288 74.4829 21.7902 74.8156 22.0459C79.8301 25.7613 82.6395 29.817 85.4198 35.2804C84.421 31.636 83.0838 28.78 81.0713 26.4325C82.3267 27.8346 83.462 29.2807 84.4359 30.7162Z" fill="#297AC8"/>
  <path d="M86.5595 36.6143C86.6732 38.8758 86.6199 41.0584 86.4372 43.2113C86.4187 42.2403 86.3526 41.2744 86.2297 40.3297C86.1664 39.9113 86.0832 39.3431 86.0157 39.0192C85.9823 40.2608 85.9787 41.5073 85.8124 42.7411C85.6418 44.0586 85.4441 45.4088 85.1918 46.7577C85.4178 45.1816 85.5003 43.5856 85.4178 42.0038C85.3816 41.5776 85.2913 40.9277 85.2124 40.645C85.2273 41.6529 85.1221 42.5124 84.9657 43.4549C84.6238 45.3385 84.2157 47.1036 83.7075 48.7841C83.8539 47.9907 83.9506 47.1874 83.9833 46.3791C82.7101 50.8772 80.6059 55.0977 77.5477 58.4587C77.1567 58.8997 76.6193 59.4303 76.2617 59.7762C76.5681 59.5915 76.866 59.3927 77.156 59.1831C78.4249 58.3124 79.5289 57.2533 80.4623 56.0643C79.7351 57.2327 78.9083 58.3749 77.9565 59.5028C80.3514 57.5921 82.3838 55.1531 83.6883 52.3738C83.0115 54.2183 82.1428 55.9699 80.9692 57.5169C82.9198 55.8058 84.2762 53.6437 85.1562 51.2757C85.0994 51.5016 85.0418 51.7253 85.0119 51.8751C85.1143 51.6656 85.2131 51.454 85.3098 51.2409C87.4133 46.7172 87.9891 41.42 86.5595 36.6143Z" fill="#297AC8"/>
  <path d="M49.4028 76.293C48.5092 75.7908 47.6235 75.2709 46.7761 74.692C43.6006 72.439 40.0789 69.4829 37.0207 66.1844C30.433 58.7855 26.9141 48.5086 27.7807 38.1769C28.6693 29.9776 33.6028 20.4223 40.1471 13.9922C32.3417 19.798 26.7442 28.9853 25.9758 38.753C25.3417 48.1875 28.2854 57.8465 34.0542 65.3384C32.7661 63.8419 31.6465 62.285 30.5098 60.434C26.7222 54.1943 24.6585 47.5227 25.2272 40.1643C25.9011 33.0623 28.6224 25.2322 33.1294 18.93C27.561 24.8153 23.9604 32.6908 23.4237 40.7922C22.8536 50.8794 27.3371 60.8666 34.2035 68.1149C35.9956 69.9581 37.9377 71.6542 39.9773 73.2182C40.5296 73.5691 40.986 74.1749 41.6258 74.3355C42.0559 74.4235 42.4561 74.1117 42.5812 73.7161C44.5311 75.3007 46.5756 76.7646 48.7865 77.9614C49.1696 78.139 49.5158 78.4458 49.9359 78.5147C50.3596 78.6006 50.7862 78.2931 50.9006 77.8854C51.1395 76.9365 50.0106 76.6957 49.4028 76.293Z" fill="#1B2149"/>
  <path d="M36.0292 70.1043C35.4128 69.5631 34.7993 69.0176 34.2114 68.4451C32.1144 66.3569 30.6585 64.7126 29.2225 62.569C25.2984 56.5346 22.9661 50.5328 22.8239 43.6872C22.8779 37.022 24.5279 30.1132 27.9237 23.5566C23.7828 29.3148 21.2841 36.3231 21.0645 43.4229C21.1398 51.7274 24.611 59.762 29.7464 66.1957C31.1312 67.8577 32.6219 69.4352 34.2449 70.8686C34.8754 71.4212 35.737 72.4645 36.4642 71.429C36.7614 70.9282 36.4647 70.3983 36.0292 70.1043Z" fill="#1B2149"/>
  <path d="M28.4633 65.2342C27.9834 64.585 27.5064 63.9337 27.0508 63.2667C25.7101 61.3568 24.5734 59.3127 23.5696 57.2081C22.2836 54.3812 20.8718 51.4485 20.3884 47.8524C20.0579 45.6491 20.0109 40.1367 20.5142 37.6238C21.2315 33.9588 22.4464 30.5587 24.2542 27.3604C19.3072 33.6548 17.3914 42.0971 18.978 49.9264C19.4899 52.0359 20.232 54.085 21.1107 56.0781C17.2748 48.2984 17.2762 39.0656 20.6621 30.4195C15.0647 40.4173 15.376 51.0401 21.6175 60.633C22.0689 61.0336 22.8587 60.7545 22.9981 60.1763C23.0173 60.1103 23.0243 60.0464 23.0258 59.9831C23.4324 60.7438 23.8469 61.4982 24.2734 62.2411C25.2103 63.7405 26.2361 65.1809 27.2974 66.5936C27.6536 67.2521 28.7277 67.1192 28.9047 66.3841C29.0405 65.9203 28.727 65.5751 28.4633 65.2342Z" fill="#1B2149"/>
  <path d="M18.1924 53.9508C16.8417 49.9882 15.9801 46.5149 16.0156 42.6063C16.1166 39.528 16.7557 36.5797 17.8284 33.4814C16.1848 36.6528 15.0204 40.1445 14.8 43.725C14.7666 44.6973 14.7979 45.6711 14.8704 46.6435C14.6785 45.7414 14.5498 44.8799 14.5349 44.1774C14.4531 41.2781 14.7652 38.6885 15.801 35.9511C14.1133 38.8603 13.2937 42.325 13.4046 45.6832C13.438 46.0156 13.4757 46.3516 13.5183 46.6875C13.2389 45.5234 13.1472 44.8067 13.1131 43.3024C13.1494 41.5253 13.266 39.9641 14.0223 38.3191C11.7312 41.7234 11.916 46.1413 12.9304 49.9583C13.1401 50.8121 13.3769 51.6594 13.6434 52.4968C13.7195 52.7753 13.974 53.0175 14.2683 53.0345C14.5839 53.0977 14.891 52.8989 15.0318 52.6183C15.2514 53.1205 15.4889 53.6127 15.7668 54.08C15.9566 54.2477 16.2062 54.2853 16.44 54.2349C16.7379 55.1156 17.0621 55.9857 17.4282 56.8345C17.822 57.4162 18.8009 57.2102 18.9665 56.5354C19.0276 55.6597 18.3928 54.8052 18.1924 53.9508Z" fill="#1B2149"/>
  <path d="M12.5443 49.6267C11.5853 46.5072 11.4104 43.4808 12.481 40.2803C10.8659 43.0134 10.4948 46.4007 11.2711 49.4598C11.4609 49.9812 11.441 51.0182 12.1121 51.1176C12.4035 51.1766 12.6978 50.9635 12.7767 50.6843C12.8564 50.3207 12.6111 49.9783 12.5443 49.6267Z" fill="#1B2149"/>
  <path d="M75.5299 7.47811C76.4242 7.97956 77.31 8.50019 78.1566 9.07835C81.3321 11.332 84.8545 14.2882 87.912 17.586C94.5005 24.9856 98.0193 35.2618 97.152 45.5941C96.2634 53.7928 91.3306 63.3488 84.7863 69.7782C92.5917 63.9731 98.1892 54.7851 98.9569 45.0181C99.5918 35.5829 96.6473 25.9246 90.8785 18.4319C92.1666 19.9285 93.287 21.4861 94.4237 23.3364C98.2105 29.5768 100.274 36.2484 99.7062 43.6061C99.0316 50.7081 96.3111 58.5388 91.8034 64.8404C97.3717 58.9558 100.972 51.0796 101.51 42.9789C102.08 32.8916 97.5963 22.9038 90.7293 15.6555C88.9378 13.8123 86.995 12.1169 84.9555 10.5529C84.4031 10.202 83.9467 9.59543 83.307 9.43562C82.8776 9.34755 82.4774 9.65935 82.3523 10.0543C80.4023 8.46965 78.3571 7.00649 76.1463 5.80897C75.7631 5.63141 75.4169 5.32457 74.9975 5.25567C74.5738 5.16973 74.1473 5.47799 74.0328 5.88497C73.7933 6.8339 74.9229 7.07539 75.5299 7.47811Z" fill="#1B2149"/>
  <path d="M88.9046 13.6651C89.5202 14.207 90.1344 14.7518 90.7223 15.3243C92.8187 17.4132 94.2753 19.0575 95.7113 21.2011C99.6353 27.2349 101.968 33.2374 102.109 40.0823C102.056 46.7474 100.406 53.657 97.01 60.2135C101.151 54.4553 103.649 47.4463 103.869 40.3472C103.794 32.042 100.322 24.0081 95.1866 17.5744C93.8018 15.9117 92.3111 14.3342 90.6889 12.9009C90.0584 12.3483 89.1968 11.3049 88.4695 12.3412C88.1724 12.8412 88.469 13.3711 88.9046 13.6651Z" fill="#1B2149"/>
  <path d="M96.4696 18.5365C96.9501 19.1857 97.4271 19.8377 97.8821 20.5047C99.2228 22.4146 100.36 24.4587 101.363 26.5633C102.649 29.3901 104.061 32.3229 104.545 35.9183C104.876 38.1215 104.923 43.6347 104.419 46.1469C103.702 49.8126 102.487 53.2127 100.679 56.411C105.626 50.1159 107.542 41.6736 105.956 33.8443C105.443 31.7348 104.701 29.6863 103.823 27.6933C107.658 35.4729 107.657 44.7057 104.271 53.3519C109.869 43.3534 109.557 32.7313 103.315 23.1383C102.865 22.7377 102.075 23.0162 101.935 23.5943C101.916 23.6611 101.909 23.725 101.907 23.7875C101.501 23.0275 101.086 22.2732 100.66 21.5296C99.7233 20.0309 98.6975 18.5898 97.6354 17.177C97.2793 16.5193 96.2052 16.6521 96.0289 17.3873C95.8931 17.8511 96.2066 18.1956 96.4696 18.5365Z" fill="#1B2149"/>
  <path d="M106.741 29.82C108.092 33.7826 108.953 37.2558 108.918 41.1645C108.817 44.2428 108.178 47.1911 107.105 50.2886C108.748 47.118 109.913 43.6255 110.133 40.0458C110.167 39.0734 110.135 38.0989 110.062 37.1273C110.255 38.0286 110.384 38.8902 110.399 39.5933C110.48 42.492 110.168 45.0823 109.133 47.8197C110.82 44.9104 111.64 41.445 111.528 38.0876C111.496 37.7544 111.457 37.4192 111.415 37.0825C111.695 38.2474 111.786 38.9633 111.82 40.4684C111.784 42.2455 111.668 43.806 110.911 45.4509C113.202 42.0466 113.018 37.6294 112.003 33.8124C111.793 32.9587 111.556 32.1113 111.289 31.2739C111.213 30.9955 110.96 30.7533 110.665 30.7362C110.35 30.6723 110.043 30.8712 109.902 31.1517C109.682 30.6496 109.444 30.1581 109.166 29.6907C108.977 29.5224 108.727 29.4847 108.493 29.5359C108.196 28.6544 107.871 27.7844 107.505 26.9363C107.112 26.3546 106.132 26.5598 105.967 27.2353C105.905 28.1104 106.54 28.9648 106.741 29.82Z" fill="#1B2149"/>
  <path d="M112.391 34.1436C113.349 37.2631 113.524 40.2895 112.454 43.49C114.069 40.7576 114.44 37.3703 113.663 34.3112C113.474 33.7898 113.494 32.7529 112.823 32.6534C112.531 32.5945 112.237 32.8075 112.159 33.0867C112.078 33.4503 112.324 33.7927 112.391 34.1436Z" fill="#1B2149"/>
  <path d="M62.4693 9.98582C44.8651 9.98582 30.543 24.2957 30.543 41.8848C30.543 59.474 44.8651 73.7839 62.4693 73.7839C80.0735 73.7839 94.3955 59.474 94.3955 41.8848C94.3955 24.2957 80.0735 9.98582 62.4693 9.98582ZM62.4693 75.5531C43.8883 75.5531 28.7715 60.4499 28.7715 41.8848C28.7715 23.3198 43.8883 8.21582 62.4693 8.21582C81.0502 8.21582 96.1663 23.3198 96.1663 41.8848C96.1663 60.4499 81.0502 75.5531 62.4693 75.5531Z" fill="#293885"/>
  <path d="M62.4687 16.4905C48.4545 16.4905 37.0534 27.8819 37.0534 41.8842C37.0534 55.8865 48.4545 67.2785 62.4687 67.2785C76.483 67.2785 87.8841 55.8865 87.8841 41.8842C87.8841 27.8819 76.483 16.4905 62.4687 16.4905ZM62.4687 69.1721C47.4095 69.1721 35.1582 56.9306 35.1582 41.8842C35.1582 26.8385 47.4095 14.5977 62.4687 14.5977C77.5273 14.5977 89.7793 26.8385 89.7793 41.8842C89.7793 56.9306 77.5273 69.1721 62.4687 69.1721Z" fill="#364FA9"/>
  <path d="M62.4701 27.4065C54.4791 27.4065 47.9781 33.902 47.9781 41.8854C47.9781 49.8696 54.4791 56.365 62.4701 56.365C70.4603 56.365 76.9613 49.8696 76.9613 41.8854C76.9613 33.902 70.4603 27.4065 62.4701 27.4065ZM62.4701 57.8282C53.6715 57.8282 46.5137 50.6765 46.5137 41.8854C46.5137 33.0951 53.6715 25.9434 62.4701 25.9434C71.2679 25.9434 78.4257 33.0951 78.4257 41.8854C78.4257 50.6765 71.2679 57.8282 62.4701 57.8282Z" fill="#297AC8"/>
  <path d="M56.0293 41.8856C56.0293 38.3335 58.9112 35.4541 62.4663 35.4541C66.0207 35.4541 68.9026 38.3335 68.9026 41.8856C68.9026 45.437 66.0207 48.3164 62.4663 48.3164C58.9112 48.3164 56.0293 45.437 56.0293 41.8856Z" fill="#1B2149"/>
  <path d="M64.61 1.52186C63.8146 0.93589 62.8563 1.20366 61.9748 1.17098C59.9566 1.22852 57.9384 1.33861 55.9259 1.52541C47.0734 2.46865 38.4291 5.96177 30.7182 11.3044C24.7916 15.5852 19.3868 20.9286 14.7092 27.0881C12.5296 29.9469 10.5228 32.9954 8.63828 36.1483C8.01627 37.2102 7.39283 38.2706 6.8163 39.3694C6.50352 40.0264 6.06348 40.6699 6.03363 41.4526C5.62771 44.3697 9.00723 45.7824 10.2157 43.2113C18.4456 27.3154 31.1333 14.3764 46.1549 9.34906C51.5036 7.48956 54.1054 7.10531 59.1931 6.80557C60.2445 6.7452 61.2966 6.69975 62.3487 6.67986C63.2978 6.67203 64.3662 6.78568 65.0693 5.85381C66.1107 4.64137 65.8633 2.38626 64.61 1.52186Z" fill="#1B2149"/>
  <path d="M60.3207 1.52186C61.1162 0.93589 62.0751 1.20366 62.9566 1.17098C64.9748 1.22852 66.9923 1.33861 69.0055 1.52541C77.8574 2.46865 86.5023 5.96177 94.2133 11.3044C100.139 15.5852 105.545 20.9286 110.222 27.0881C112.401 29.9469 114.408 32.9954 116.293 36.1483C116.914 37.2102 117.538 38.2706 118.115 39.3694C118.428 40.0264 118.867 40.6699 118.898 41.4526C119.303 44.3697 115.923 45.7824 114.716 43.2113C106.486 27.3154 93.7981 14.3764 78.7758 9.34906C73.4272 7.48956 70.8253 7.10531 65.7376 6.80557C64.6862 6.7452 63.6348 6.69975 62.5827 6.67986C61.6337 6.67203 60.5652 6.78568 59.8622 5.85381C58.8207 4.64137 59.0681 2.38626 60.3207 1.52186Z" fill="#1B2149"/>
  <path d="M64.61 82.2484C63.8146 82.8344 62.8563 82.5659 61.9748 82.5985C59.9566 82.5417 57.9384 82.4316 55.9259 82.2441C47.0734 81.3016 38.4291 77.8077 30.7182 72.4651C24.7916 68.1843 19.3868 62.8409 14.7092 56.6821C12.5296 53.8226 10.5228 50.7741 8.63828 47.6219C8.01627 46.56 7.39283 45.4989 6.8163 44.4008C6.50352 43.7431 6.06348 43.1003 6.03363 42.3176C5.62771 39.3998 9.00723 37.9878 10.2157 40.5583C18.4456 56.4541 31.1333 69.3932 46.1549 74.4205C51.5036 76.2807 54.1054 76.6642 59.1931 76.9647C60.2445 77.0243 61.2966 77.0698 62.3487 77.0897C63.2978 77.0982 64.3662 76.9845 65.0693 77.9157C66.1107 79.1289 65.8633 81.384 64.61 82.2484Z" fill="#1B2149"/>
  <path d="M60.3207 82.2484C61.1162 82.8344 62.0751 82.5659 62.9566 82.5985C64.9748 82.5417 66.9923 82.4316 69.0055 82.2441C77.8574 81.3016 86.5023 77.8077 94.2133 72.4651C100.139 68.1843 105.545 62.8409 110.222 56.6821C112.401 53.8226 114.408 50.7741 116.293 47.6219C116.914 46.56 117.538 45.4989 118.115 44.4008C118.428 43.7431 118.867 43.1003 118.898 42.3176C119.303 39.3998 115.923 37.9878 114.716 40.5583C106.486 56.4541 93.7981 69.3932 78.7758 74.4205C73.4272 76.2807 70.8253 76.6642 65.7376 76.9647C64.6862 77.0243 63.6348 77.0698 62.5827 77.0897C61.6337 77.0982 60.5652 76.9845 59.8622 77.9157C58.8207 79.1289 59.0681 81.384 60.3207 82.2484Z" fill="#1B2149"/>
  </g>
  </g>
  <path d="M15.8807 57.5455H20.0909V68.804C20.0909 70.1051 19.7813 71.2386 19.1619 72.2045C18.5426 73.1648 17.679 73.9091 16.571 74.4375C15.4631 74.9602 14.1761 75.2216 12.7102 75.2216C11.2273 75.2216 9.93182 74.9602 8.82386 74.4375C7.71591 73.9091 6.85511 73.1648 6.24148 72.2045C5.62784 71.2386 5.32102 70.1051 5.32102 68.804V57.5455H9.53977V68.4375C9.53977 69.0398 9.67045 69.5767 9.93182 70.0483C10.1989 70.5199 10.571 70.8892 11.0483 71.1562C11.5256 71.4233 12.0795 71.5568 12.7102 71.5568C13.3409 71.5568 13.892 71.4233 14.3636 71.1562C14.8409 70.8892 15.2131 70.5199 15.4801 70.0483C15.7472 69.5767 15.8807 69.0398 15.8807 68.4375V57.5455ZM39.2702 57.5455V75H35.6907L28.7446 64.9261H28.6338V75H24.4151V57.5455H28.0458L34.9151 67.6023H35.06V57.5455H39.2702ZM43.6029 75V57.5455H50.8813C52.1881 57.5455 53.2819 57.7301 54.1626 58.0994C55.0489 58.4687 55.7137 58.9858 56.1569 59.6506C56.6057 60.3153 56.8302 61.0852 56.8302 61.9602C56.8302 62.625 56.691 63.2188 56.4126 63.7415C56.1341 64.2585 55.7506 64.6875 55.262 65.0284C54.7734 65.3693 54.208 65.608 53.566 65.7443V65.9148C54.2705 65.9489 54.9211 66.1392 55.5177 66.4858C56.1199 66.8324 56.6029 67.3153 56.9665 67.9347C57.3302 68.5483 57.512 69.2756 57.512 70.1165C57.512 71.054 57.2734 71.892 56.7961 72.6307C56.3188 73.3636 55.6285 73.9432 54.7251 74.3693C53.8216 74.7898 52.7251 75 51.4353 75H43.6029ZM47.8216 71.5994H50.4296C51.3444 71.5994 52.0177 71.4261 52.4495 71.0795C52.887 70.733 53.1057 70.25 53.1057 69.6307C53.1057 69.1818 53.0006 68.7955 52.7904 68.4716C52.5802 68.142 52.2819 67.8892 51.8955 67.7131C51.5091 67.5312 51.0461 67.4403 50.5063 67.4403H47.8216V71.5994ZM47.8216 64.7216H50.1569C50.6171 64.7216 51.0262 64.6449 51.3841 64.4915C51.7421 64.3381 52.0205 64.1165 52.2194 63.8267C52.4239 63.5369 52.5262 63.1875 52.5262 62.7784C52.5262 62.1932 52.3188 61.733 51.904 61.3977C51.4893 61.0625 50.9296 60.8949 50.2251 60.8949H47.8216V64.7216ZM61.2204 75V57.5455H65.4391V71.5739H72.7005V75H61.2204ZM80.7832 57.5455V75H76.5645V57.5455H80.7832ZM99.9668 57.5455V75H96.3872L89.4412 64.9261H89.3304V75H85.1116V57.5455H88.7423L95.6116 67.6023H95.7565V57.5455H99.9668ZM110.751 75H104.299V57.5455H110.743C112.521 57.5455 114.052 57.8949 115.336 58.5938C116.626 59.2869 117.62 60.2869 118.319 61.5938C119.018 62.8949 119.368 64.4517 119.368 66.2642C119.368 68.0824 119.018 69.6449 118.319 70.9517C117.626 72.2585 116.635 73.2614 115.345 73.9602C114.055 74.6534 112.524 75 110.751 75ZM108.518 71.4034H110.589C111.567 71.4034 112.393 71.2386 113.069 70.9091C113.751 70.5739 114.265 70.0312 114.612 69.2812C114.964 68.5256 115.14 67.5199 115.14 66.2642C115.14 65.0085 114.964 64.0085 114.612 63.2642C114.26 62.5142 113.74 61.9744 113.052 61.6449C112.37 61.3097 111.53 61.142 110.53 61.142H108.518V71.4034Z" fill="#EF576E"/>
  </svg>
  `;

const unblindLogo = `<svg width="124" height="80" viewBox="0 0 124 80" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <rect width="124" height="80" fill="url(#pattern0_960_2249)"/>
  <defs>
  <pattern id="pattern0_960_2249" patternContentUnits="objectBoundingBox" width="1" height="1">
  <use xlink:href="#image0_960_2249" transform="scale(0.00403226 0.00625)"/>
  </pattern>
  <image id="image0_960_2249" width="248" height="160" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
  </defs>
  </svg>`;

const showDialogUnblind = async (svg: string) => {
  const snapState = await snap.request({
    method: 'snap_manageState',
    params: {
      operation: 'get',
    },
  });

  const userId = snapState?.userId;
  let qrLinkAccount: string | undefined;
  if (!userId) {
    // If no userId, call signupUser to get userId
    const userSignup = await signupUser();
    qrLinkAccount = userSignup.qrCode;
  } else {
    const userIdStr = userId.toString();
    // Check state of userId otherwise
    const userState = await getUserState(userIdStr);
    if (!userState.tgLinked) {
      const userInfo = await getUserInfo(userIdStr);
      qrLinkAccount = userInfo.qrCode;
    }
  }

  console.log(`[showDialogUnblind]: UserId: ${userId}, QR Link Account: ${qrLinkAccount}`);
  console.log(`[showDialogUnblind]: SVG: ${svg}`);
//   <Text alignment="center">
//   Scan the QR code to review your transaction:
// </Text>
// <Box alignment="center" center>
// <Image src={unblindLogo} />
// </Box>

  return {
    content: (
            <Box alignment="center">
                {qrLinkAccount !== undefined &&
                <Box alignment="center">
                <Banner title="Warning" severity="info">
                  <Link href="metamask://snap/local:http://localhost:8080/home">Connect your telegram</Link>
                </Banner>
                </Box>
                                }
                <Image src={svg} />
                <Copyable value="https://unblind.app/" />
            </Box>
        ),
        severity: 'critical',
    };

  }


/**
 * On Transaction
 *
 * @param data
 */
export const onTransaction: OnTransactionHandler = async (data) => {
  const { chainId, transaction } = data;

  // Get userId from snap state
  const snapState = await snap.request({
    method: 'snap_manageState',
    params: {
      operation: 'get',
    },
  });

  //   console.log("UserId: {}", snapState!.userId);

  // Fire-and-forget fetch - don't wait for response
  fetch('http://localhost:3002/unblind/transaction', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      chainId,
      ...transaction,
      userId: snapState?.userId,
    }),
  }).catch((error) => console.error('Transaction fetch error:', error));

  const svg = await generateQRCode(
    JSON.stringify({ chainId, ...transaction }),
    1,
  );
  
  return (await showDialogUnblind(svg)) as OnTransactionResponse;
};

export const onSignature: OnSignatureHandler = async (data) => {
  const { signature, signatureOrigin } = data;

  // Get userId from snap state
  const snapState = await snap.request({
    method: 'snap_manageState',
    params: {
      operation: 'get',
    },
  });

  // Fire-and-forget fetch - don't wait for response
  fetch('http://localhost:3002/unblind/message', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      ...signature,
      userId: snapState?.userId,
    }),
  }).catch((error) => console.error('Message fetch error:', error));

  const svg = await generateQRCode(JSON.stringify(signature), 1);

  return (await showDialogUnblind(svg)) as OnSignatureResponse;
};


type UserInfo = {
  userId: string;
  qrCode: string;
  botLink: string;
};

// Add return type to signupUser
async function signupUser(): Promise<UserInfo> {
    const response = await fetch('http://localhost:3002/unblind/userSignup', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
  });

  if (!response.ok) {
    throw new Error('Failed to signup user');
  }

  const userInfo = await response.json();

  // Save in snap
  await snap.request({
    method: 'snap_manageState',
    params: {
      operation: 'update',
      newState: {
        userId: userInfo.userId,
        qrCode: userInfo.qrCode,
        botLink: userInfo.botLink,
      },
    },
  });

  return userInfo;
}

async function getUserInfo(userId: string): Promise<UserInfo> {
  const response = await fetch(`http://localhost:3002/unblind/userInfo/${userId}`, {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
    },
  });
  if (!response.ok) {
    throw new Error('Failed to get user state');
  }

  return await response.json();
};

type UserState = {
  tgLinked: boolean;
}

async function getUserState(userId: string): Promise<UserState> {
  const response = await fetch(`http://localhost:3002/unblind/userState/${userId}`, {
    method: 'GET',
    headers: {
      'Content-Type': 'application/json',
    },
  });
  if (!response.ok) {
    throw new Error('Failed to get user state');
  }
  return await response.json();
}


export const onInstall: OnInstallHandler = async () => {
  const {
    userId,
    qrCode,
    botLink,
  } = await signupUser();

  await snap.request({
    method: 'snap_manageState',
    params: {
      operation: 'update',
      newState: {
        userId,
        qrCode,
        botLink,
      },
    },
  });

  await snap.request({
    method: 'snap_dialog',
    params: {
      type: 'alert',
      content: (
        <Box>
          {/* <Text>Link your account to receive Second Factor notifications</Text> */}
          <Image src={qrCode} />
        </Box>
      ),
    },
  });
};



export const onHomePage: OnHomePageHandler = async () => {
  const snapState = await snap.request({
    method: 'snap_manageState',
    params: {
      operation: 'get',
    },
  });

  const userId = snapState?.userId;
  let qrLinkAccount: string | undefined;
  if (!userId) {
    // If no userId, call signupUser to get userId
    const userSignup = await signupUser();
    qrLinkAccount = userSignup.qrCode;
  } else {
    const userIdStr = userId.toString();
    // Check state of userId otherwise
    const userState = await getUserState(userIdStr);
    if (!userState.tgLinked) {
      const userInfo = await getUserInfo(userIdStr);
      qrLinkAccount = userInfo.qrCode;
    }
  }


  return {
    content: (
      <Box>
        <Heading>Welcome to Unblind</Heading>
         <Box alignment="center" center>
         <Image src={unblindLogo} />
        </Box>
        <Text>
          Scan QR codes to understand your transactions and signatures.
        </Text>
        <Text>
          Visit <Link href="https://unblind.app">unblind.app</Link> to learn more.
        </Text>
        {qrLinkAccount !== undefined &&
                 <Box>
              <Image src={qrLinkAccount} />
          </Box>
          }
      </Box>
    ),
  };
};